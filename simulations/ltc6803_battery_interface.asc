Version 4
SHEET 1 1764 680
WIRE 240 -384 240 -448
WIRE 592 -384 240 -384
WIRE 784 -384 592 -384
WIRE 1008 -384 864 -384
WIRE 1120 -384 1008 -384
WIRE 1360 -384 1120 -384
WIRE 1008 -368 1008 -384
WIRE 1120 -368 1120 -384
WIRE 240 -352 240 -384
WIRE 592 -336 592 -384
WIRE 784 -288 656 -288
WIRE 1360 -288 1360 -304
WIRE 1360 -288 864 -288
WIRE 1360 -256 1360 -288
WIRE 240 -240 240 -272
WIRE 336 -240 240 -240
WIRE 480 -240 400 -240
WIRE 592 -240 560 -240
WIRE 1120 -240 1120 -304
WIRE 1360 -144 1360 -176
WIRE 1360 -144 1344 -144
WIRE 240 -128 240 -240
WIRE 592 -128 240 -128
WIRE 704 -128 592 -128
WIRE 784 -128 704 -128
WIRE 1008 -128 1008 -304
WIRE 1008 -128 864 -128
WIRE 1120 -128 1008 -128
WIRE 1344 -128 1344 -144
WIRE 1344 -128 1120 -128
WIRE 1360 -128 1360 -144
WIRE 1008 -112 1008 -128
WIRE 1120 -112 1120 -128
WIRE 240 -96 240 -128
WIRE 592 -80 592 -128
WIRE 704 -32 704 -48
WIRE 704 -32 656 -32
WIRE 784 -32 704 -32
WIRE 1360 -32 1360 -48
WIRE 1360 -32 864 -32
WIRE 1360 -16 1360 -32
WIRE 240 16 240 -16
WIRE 336 16 240 16
WIRE 480 16 400 16
WIRE 592 16 560 16
WIRE 1120 16 1120 -48
WIRE 240 96 240 16
WIRE 592 96 240 96
WIRE 784 96 592 96
WIRE 1008 96 1008 -48
WIRE 1008 96 864 96
WIRE 1120 96 1008 96
WIRE 1360 96 1360 64
WIRE 1360 96 1120 96
WIRE 1008 112 1008 96
WIRE 1120 112 1120 96
WIRE 1360 112 1360 96
WIRE 240 128 240 96
WIRE 592 144 592 96
WIRE 784 192 656 192
WIRE 1248 192 864 192
WIRE 1248 224 1248 192
WIRE 1360 224 1360 192
WIRE 1360 224 1248 224
WIRE 240 240 240 208
WIRE 336 240 240 240
WIRE 480 240 400 240
WIRE 592 240 560 240
WIRE 1120 240 1120 176
WIRE 1360 240 1360 224
WIRE 240 336 240 240
WIRE 1008 336 1008 176
WIRE 1008 336 240 336
WIRE 1008 368 1008 336
WIRE 1360 368 1360 320
WIRE 1360 368 1008 368
WIRE 432 400 368 400
WIRE 544 400 496 400
WIRE 592 400 544 400
WIRE 704 400 672 400
WIRE 912 400 704 400
WIRE 544 432 544 400
WIRE 704 432 704 400
WIRE 240 528 240 336
WIRE 544 528 544 496
WIRE 544 528 240 528
WIRE 592 528 544 528
WIRE 704 528 704 496
WIRE 704 528 672 528
WIRE 912 528 704 528
WIRE 240 608 240 528
FLAG 1120 -240 0
FLAG 1120 16 0
FLAG 1120 240 0
FLAG 240 608 0
FLAG 368 400 12+
IOPIN 368 400 In
FLAG 912 400 VDD
IOPIN 912 400 Out
FLAG 912 528 DGND
IOPIN 912 528 Out
SYMBOL voltage 240 -368 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 4.2
SYMBOL res 880 -400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 880 -304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL pnp 656 -240 R180
SYMATTR InstName Q1
SYMATTR Value 2N2907
SYMBOL res 576 -256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100
SYMBOL cap 1104 -368 R0
SYMATTR InstName C1
SYMATTR Value 3µ3
SYMBOL voltage 240 -112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 4.2
SYMBOL res 880 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 880 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL pnp 656 16 R180
SYMATTR InstName Q2
SYMATTR Value 2N2907
SYMBOL res 576 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL cap 1104 -112 R0
SYMATTR InstName C2
SYMATTR Value 3µ3
SYMBOL voltage 240 112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 4.2
SYMBOL res 880 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res 880 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL pnp 656 240 R180
SYMATTR InstName Q3
SYMATTR Value 2N2907
SYMBOL res 576 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 100
SYMBOL cap 1104 112 R0
SYMATTR InstName C3
SYMATTR Value 3µ3
SYMBOL res 1344 -400 R0
SYMATTR InstName R10
SYMATTR Value 1meg
SYMBOL res 1344 -272 R0
SYMATTR InstName R11
SYMATTR Value 1meg
SYMBOL res 1344 -144 R0
SYMATTR InstName R12
SYMATTR Value 20
SYMBOL res 1344 -32 R0
SYMATTR InstName R13
SYMATTR Value 1meg
SYMBOL LED 400 -256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 72 32 VTop 2
SYMATTR InstName D1
SYMATTR Value NSSW008CT-P1
SYMBOL LED 400 0 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value NSSW008CT-P1
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED 400 224 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value NSSW008CT-P1
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 1344 96 R0
SYMATTR InstName R14
SYMATTR Value 20
SYMBOL res 1344 224 R0
SYMATTR InstName R15
SYMATTR Value 1meg
SYMBOL zener 1024 -304 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value BZX84C6V2L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL zener 1024 -48 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value BZX84C6V2L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL zener 1024 176 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMATTR Value BZX84C6V2L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 688 -144 R0
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL res 688 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 100
SYMBOL cap 688 432 R0
SYMATTR InstName C4
SYMATTR Value 100n
SYMBOL FerriteBead 464 400 R90
WINDOW 0 -16 0 VBottom 2
SYMATTR InstName L1
SYMBOL res 688 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 100
SYMBOL zener 560 496 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D7
SYMATTR Value 1N5371B
SYMATTR Description Diode
SYMATTR Type diode
TEXT 432 -456 Left 2 !.tran 0 10m 0
TEXT 1544 40 Left 2 ;Pull-up on
TEXT 1336 -424 Left 2 ;Discharging
TEXT 816 -224 Left 2 ;GND behind\nlarge resistance
TEXT 328 -88 Left 2 ;Discharge\ncurrent path
TEXT 328 -336 Left 2 ;Optional\nstatus LED
TEXT 904 -416 Left 2 ;Protection Zener
TEXT 1248 80 Left 2 ;C1
TEXT 1240 352 Left 2 ;C0
TEXT 1248 208 Left 2 ;S1
TEXT 1248 -48 Left 2 ;S2
TEXT 1248 -144 Left 2 ;C2
TEXT 1248 -304 Left 2 ;S3
TEXT 1248 -400 Left 2 ;C4
TEXT 192 -392 Left 2 ;3+
TEXT 184 -184 Left 2 ;2+
TEXT 192 48 Left 2 ;1+
TEXT 200 272 Left 2 ;1-
LINE Normal 576 -112 320 -112
LINE Normal 576 0 576 -112
LINE Normal 320 0 576 0
LINE Normal 352 -16 320 0
LINE Normal 352 -16 352 -16
LINE Normal 352 16 320 0
RECTANGLE Normal 1488 -160 1312 -400 2
RECTANGLE Normal 1488 128 1312 -144 2
RECTANGLE Normal 1200 -176 768 -448 3
